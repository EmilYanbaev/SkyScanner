(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{145:function(t,e,n){},146:function(t,e,n){},21:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return b}));var r=n(4),a="auth/SIGN_IN",c="auth/LOG_OUT",i="auth/SIGN_SUCCESS",o={isLogin:!1,encryptedToken:"ikg\x97\x9bd\x95h\xdajgjgm\x97fn\xb0g\x9bhfg\x95\x98\x99\xdb\x9aeidl",token:null};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i:return Object(r.a)(Object(r.a)({},t),{},{isLogin:!0,token:e.token});case c:return Object(r.a)(Object(r.a)({},t),{},{isLogin:!1});default:return t}};var u=function(t){return{type:a,data:t}},s=function(t){return{type:i,token:t}},b=function(){return{type:c}}},231:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(37),i=n.n(c),o=(n(145),n(146),n(18)),u=n(87),s=n(92),b=n(21),p=n(25),d=n(26),f=n(10),j=n.n(f),O=n(63),l=n(23),h=function(t,e){for(String.prototype.replaceAt=function(t,e){return this.substr(0,t)+e+this.substr(t+e.length)};t.length!=e.length;)t.length<e.length&&(t+=t),t.length>e.length&&(t=t.slice(0,t.length-1));for(var n=0;n<e.length;n++)e=e.replaceAt(n,String.fromCharCode(e.charCodeAt(n)-t.charCodeAt(n)));return e},m=n(35),g=n(36),k=n.n(g),v="https://intense-caverns-46819.herokuapp.com/",x=function(t){return Object(m.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("".concat(v,"http://api.travelpayouts.com/v1/prices/cheap?origin=MOW&destination=HKT&depart_date=2017-11&return_date=2017-12&token=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=11;break}return e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},_=function(t,e,n,r){return Object(m.a)(j.a.mark((function a(){var c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k.a.get("".concat(v,"http://api.travelpayouts.com/v2/prices/latest?currency=rub&origin=").concat(t,"&destination=").concat(e,"&beginning_of_period=2021-").concat(n,"-01&period_type=month&one_way=true&page=1&limit=10&show_to_affiliates=true&sorting=price&token=").concat(r));case 2:return c=a.sent,a.abrupt("return",c.data);case 4:case"end":return a.stop()}}),a)})))()},y=function(t){return Object(m.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(v,"http://autocomplete.travelpayouts.com/places2?term=").concat(t,"&locale=ru&types[]=city"));case 2:return n=e.sent,e.abrupt("return",n.data.slice(0,5));case 4:case"end":return e.stop()}}),e)})))()},S=function(t){return Object(m.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(v,"http://autocomplete.travelpayouts.com/places2?term=").concat(t,"&locale=ru"));case 2:return n=e.sent,e.abrupt("return",n.data[0]);case 4:case"end":return e.stop()}}),e)})))()},w=n(52),E=j.a.mark(T);function T(t){var e,n,r,a;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e=t.data,n=h(e.pass,e.encryptedToken),c.next=4,Object(l.a)(x,n);case 4:if(!((r=c.sent).error.length>0)){c.next=11;break}return a="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c\n"+r.error,c.next=9,Object(l.b)(Object(w.a)("login",{_error:a}));case 9:c.next=14;break;case 11:return c.next=13,Object(l.b)(Object(b.e)(n));case 13:sessionStorage.setItem("token",n);case 14:case"end":return c.stop()}}),E)}var L=n(12),I=j.a.mark(C);function C(t){var e,n,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=t.value,n=t.id,!e){a.next=9;break}return a.next=4,Object(L.a)(y,e);case 4:return r=a.sent,a.next=7,Object(L.b)(Object(p.d)(r,n));case 7:a.next=11;break;case 9:return a.next=11,Object(L.b)(Object(p.b)(n));case 11:case"end":return a.stop()}}),I)}var H=n(80),N=j.a.mark(P);function P(t){var e,n,r,a,c,i;return j.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=t.data,n=t.token,o.next=3,Object(L.b)(Object(d.e)(!1));case 3:return o.next=5,Object(L.a)(S,e.origin);case 5:return r=o.sent,o.next=8,Object(L.a)(S,e.destination);case 8:return a=o.sent,c=Object(H.a)(e.month),o.next=12,Object(L.b)(Object(d.b)({origin:{name:r.name,iata:r.code},destination:{name:a.name,iata:a.code},month:c}));case 12:return e.month<10&&(e.month="0"+e.month),o.next=15,Object(L.a)(_,r.code,a.code,e.month,n);case 15:return i=o.sent,o.next=18,Object(L.b)(Object(d.d)(i.data));case 18:return o.next=20,Object(L.b)(Object(d.e)(!0));case 20:case"end":return o.stop()}}),N)}var A=j.a.mark(D);function D(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.c)(b.a,T);case 2:return t.next=4,Object(l.c)(p.a,C);case 4:return t.next=6,Object(l.c)(O.a,P);case 6:case"end":return t.stop()}}),A)}var U=Object(s.a)(),F=Object(o.c)({auth:b.b,search:p.c,tickets:d.a,form:u.a}),G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,z=Object(o.e)(F,G(Object(o.a)(U)));window.__store=z,U.run(D);var J=z,K=n(46),R=n(27),M=n(9),B=n(4),X=n(88),V=n(67),W=n(68),q=n(70),Q=n(69),Y=n(8),Z=n(58),$=n.n(Z),tt=n.p+"static/media/preloader.e859db25.gif",et=function(t){var e=t.style;return Object(Y.jsx)("div",{className:$.a.wrapper,style:e,children:Object(Y.jsx)("img",{className:$.a.preloader,src:tt,alt:""})})},nt=a.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,308))})),rt=a.a.lazy((function(){return Promise.all([n.e(6),n.e(4)]).then(n.bind(null,307))})),at=Object(o.d)((function(t){var e=function(e){Object(q.a)(r,e);var n=Object(Q.a)(r);function r(){return Object(V.a)(this,r),n.apply(this,arguments)}return Object(W.a)(r,[{key:"render",value:function(){var e;e=this.props.isLogin?"/login"===this.props.location.pathname||"/"===this.props.location.pathname||"/SkyScanner"===this.props.location.pathname?"/search":this.props.location.pathname:"/login";var n=this.props,r=(n.isLogin,Object(X.a)(n,["isLogin"]));return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(t,Object(B.a)({},r)),Object(Y.jsx)(M.a,{to:e})]})}}]),r}(a.a.Component);return Object(M.g)(Object(R.b)((function(t){return{isLogin:t.auth.isLogin}}))(e))}))((function(t){return Object(Y.jsx)(r.Suspense,{fallback:Object(Y.jsx)(et,{}),children:Object(Y.jsxs)(M.d,{children:[Object(Y.jsx)(M.b,{path:"/login",component:nt}),Object(Y.jsx)(M.b,{path:"/search",component:rt})]})})})),ct=Object(R.b)((function(t){return{isLogin:t.auth.isLogin,token:t.auth.token}}),{isAuthorized:b.e})((function(t){return Object(r.useEffect)((function(){!t.isLogin&&t.token&&sessionStorage.clear(),sessionStorage.getItem("token")&&t.isAuthorized(sessionStorage.getItem("token"))}),[t.isLogin]),Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(at,{})})}));var it=function(){return Object(Y.jsx)("div",{className:"App",children:Object(Y.jsx)(R.a,{store:J,children:Object(Y.jsx)(K.a,{children:Object(Y.jsx)(ct,{})})})})},ot=function(t){t&&t instanceof Function&&n.e(7).then(n.bind(null,306)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};i.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(it,{})}),document.getElementById("root")),ot()},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"g",(function(){return b})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"f",(function(){return j}));var r=n(4),a="search/UPDATE_INPUT",c="search/SET_HELP_INPUT",i="search/CLEAR_INPUT_HELP",o="search/SET_HIDDEN_HELP",u="search/SET_MONTH",s={originInput:"",originHelp:[],hiddenOriginHelp:!1,destinationInput:"",destinationHelp:[],hiddenDestinationHelp:!1,month:3};e.c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case a:return 1==e.id?Object(r.a)(Object(r.a)({},t),{},{originInput:e.value}):Object(r.a)(Object(r.a)({},t),{},{destinationInput:e.value});case c:return t.originInput||t.destinationInput?1==e.id?Object(r.a)(Object(r.a)({},t),{},{originHelp:e.data.map((function(t){return{name:t.name,code:t.code}}))}):Object(r.a)(Object(r.a)({},t),{},{destinationHelp:e.data.map((function(t){return{name:t.name,code:t.code}}))}):t;case i:return 1==e.id?Object(r.a)(Object(r.a)({},t),{},{originHelp:[]}):Object(r.a)(Object(r.a)({},t),{},{destinationHelp:[]});case o:return 1==e.id?Object(r.a)(Object(r.a)({},t),{},{hiddenOriginHelp:e.isHidden}):Object(r.a)(Object(r.a)({},t),{},{hiddenDestinationHelp:e.isHidden});case u:return Object(r.a)(Object(r.a)({},t),{},{month:e.number});default:return t}};var b=function(t,e){return{type:a,value:t,id:e}},p=function(t){return{type:i,id:t}},d=function(t,e){return{type:c,data:t,id:e}},f=function(t,e){return{type:o,id:t,isHidden:e}},j=function(t){return{type:u,number:t}}},26:function(t,e,n){"use strict";n.d(e,"d",(function(){return p})),n.d(e,"b",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return j}));var r=n(91),a=n(4),c=n(71),i="tickets/SET_TICKET",o="tickets/SET_DATA_DEPARTURE",u="tickets/TOGGLE_TICKETS_SUCCESS",s="tickets/SET_LIKE_TICKET",b={data:[],dataDeparture:null,basketCount:0,ticketsLike:[],setTicketsSuccess:!1};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i:return Object(a.a)(Object(a.a)({},t),{},{data:e.tickets});case o:return Object(a.a)(Object(a.a)({},t),{},{dataDeparture:e.data});case u:return Object(a.a)(Object(a.a)({},t),{},{setTicketsSuccess:e.toggle});case s:return e.isLike?Object(a.a)(Object(a.a)({},t),{},{ticketsLike:[].concat(Object(r.a)(t.ticketsLike),[e.ticket]),basketCount:++t.basketCount}):Object(a.a)(Object(a.a)({},t),{},{basketCount:--t.basketCount,ticketsLike:t.ticketsLike.filter((function(t){return!Object(c.a)(t,e.ticket)}))});default:return t}};var p=function(t){return{type:i,tickets:t}},d=function(t){return{type:o,data:t}},f=function(t){return{type:u,toggle:t}},j=function(t,e){return{type:s,ticket:t,isLike:e}}},58:function(t,e,n){t.exports={wrapper:"Preloader_wrapper__1OJ5F",preloader:"Preloader_preloader__zymti"}},63:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r="common/BEGINING_SEARCH",a=function(t,e){return{type:r,data:t,token:e}}},71:function(t,e,n){"use strict";function r(t,e){return JSON.stringify(t)===JSON.stringify(e)}n.d(e,"a",(function(){return r}))},80:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){var e=[{name:"\u042f\u043d\u0432\u0430\u0440\u044c",number:1},{name:"\u0424\u0435\u0432\u0440\u0430\u043b\u044c",number:2},{name:"\u041c\u0430\u0440\u0442",number:3},{name:"\u0410\u043f\u0440\u0435\u043b\u044c",number:4},{name:"\u041c\u0430\u0439",number:5},{name:"\u0418\u044e\u043d\u044c",number:6},{name:"\u0418\u044e\u043b\u044c",number:7},{name:"\u0410\u0432\u0433\u0443\u0441\u0442",number:8},{name:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c",number:9},{name:"\u041e\u043a\u0442\u044f\u0431\u0440\u044c",number:10},{name:"\u041d\u043e\u044f\u0431\u0440\u044c",number:11},{name:"\u0414\u0435\u043a\u0430\u0431\u0440\u044c",number:12}];return 0===t?e:e[Number(t)-1]}}},[[231,1,2]]]);
//# sourceMappingURL=main.4940d43b.chunk.js.map